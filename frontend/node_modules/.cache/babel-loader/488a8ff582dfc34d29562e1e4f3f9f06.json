{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Cody_\\\\Documents\\\\GitHub\\\\project\\\\ramseys-crafts\\\\ramseys-craft-store\\\\src\\\\Context\\\\CartContext.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/React.createContext();\n\nfunction CartContextProvider(props) {\n  _s();\n\n  const savedCart = JSON.parse(localStorage.getItem('cart'));\n  const [cartItems, setCartItems] = useState(savedCart || []);\n  localStorage.setItem(\"cart\", JSON.stringify(cartItems));\n\n  function addToCart(item) {\n    setCartItems(prevCart => {\n      // check if cart already has item\n      if (!prevCart.includes(item)) {\n        item.quantity = 1;\n        return [...prevCart, item];\n      } else {\n        console.log(\"Already in cart\");\n        return prevCart;\n      }\n    });\n    console.log(\"item added\");\n  }\n\n  function removeCartItem(product) {\n    setCartItems(prevCart => prevCart.filter(item => item !== product));\n    console.log(\"item removed\");\n  }\n\n  function emptyCart() {\n    localStorage.clear(\"cart\");\n    setCartItems([]);\n    console.log(\"cart emptied\");\n  }\n\n  function increaseQuantity(product) {\n    setCartItems(cartItems.map(prevItem => {\n      if (product === prevItem) {\n        return { ...prevItem,\n          quantity: prevItem.quantity + 1\n        };\n      } else {\n        return { ...prevItem\n        };\n      }\n    }));\n    console.log(\"item quantity increased\");\n  }\n\n  function decreaseQuantity(product) {\n    setCartItems(cartItems.map(prevItem => {\n      if (product === prevItem && prevItem.quantity > 0) {\n        return { ...prevItem,\n          quantity: prevItem.quantity - 1\n        };\n      } else {\n        return { ...prevItem\n        };\n      }\n    }));\n    console.log(\"item quantity decreased\");\n  }\n\n  function calculateTotalPrice() {\n    return cartItems.reduce((accumulator, value) => {\n      return (accumulator + value.price).toFixed(2);\n    }, 0);\n  }\n\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cartItems,\n      increaseQuantity,\n      decreaseQuantity,\n      addToCart,\n      removeCartItem,\n      emptyCart,\n      calculateTotalPrice\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CartContextProvider, \"IvIk9lOVfnM0Npy5PZ2QIGNPqLI=\");\n\n_c = CartContextProvider;\nexport { CartContextProvider, CartContext };\n\nvar _c;\n\n$RefreshReg$(_c, \"CartContextProvider\");","map":{"version":3,"names":["React","useState","CartContext","createContext","CartContextProvider","props","savedCart","JSON","parse","localStorage","getItem","cartItems","setCartItems","setItem","stringify","addToCart","item","prevCart","includes","quantity","console","log","removeCartItem","product","filter","emptyCart","clear","increaseQuantity","map","prevItem","decreaseQuantity","calculateTotalPrice","reduce","accumulator","value","price","toFixed","children"],"sources":["C:/Users/Cody_/Documents/GitHub/project/ramseys-crafts/ramseys-craft-store/src/Context/CartContext.js"],"sourcesContent":["import React, { useState } from \"react\"\r\n\r\nconst CartContext = React.createContext()\r\n\r\nfunction CartContextProvider(props) {\r\n    const savedCart = JSON.parse(localStorage.getItem('cart'))\r\n    const [cartItems, setCartItems] = useState(savedCart || [])\r\n    localStorage.setItem(\"cart\", JSON.stringify(cartItems))\r\n\r\n    function addToCart(item) {\r\n        setCartItems(prevCart => {\r\n            // check if cart already has item\r\n            if(!prevCart.includes(item)) {\r\n                item.quantity = 1\r\n                return [...prevCart, item]\r\n            } else {\r\n                console.log(\"Already in cart\")\r\n                return prevCart\r\n            }\r\n        })\r\n        console.log(\"item added\")\r\n    }\r\n\r\n    function removeCartItem(product) {\r\n        setCartItems(prevCart => prevCart.filter(item => item !== product))\r\n        console.log(\"item removed\")\r\n    }\r\n\r\n    function emptyCart() {\r\n        localStorage.clear(\"cart\")\r\n        setCartItems([])\r\n        console.log(\"cart emptied\")\r\n    }\r\n\r\n    function increaseQuantity(product) {\r\n        setCartItems(cartItems.map(prevItem => {\r\n            if(product === prevItem) {\r\n                return {...prevItem, quantity: prevItem.quantity + 1}\r\n            } else {\r\n                return {...prevItem}\r\n            }\r\n        }))\r\n        console.log(\"item quantity increased\")\r\n    }\r\n    function decreaseQuantity(product) {\r\n        setCartItems(cartItems.map(prevItem => {\r\n            if(product === prevItem && prevItem.quantity > 0 ) {\r\n                return {...prevItem, quantity: prevItem.quantity - 1}\r\n            } else {\r\n                return {...prevItem}\r\n            }\r\n        }))\r\n        console.log(\"item quantity decreased\")\r\n    }\r\n\r\n    function calculateTotalPrice() {\r\n        return cartItems.reduce((accumulator, value) => {\r\n            return (accumulator + value.price).toFixed(2)\r\n        }, 0)\r\n    }\r\n    return (\r\n        <CartContext.Provider \r\n            value={{\r\n                cartItems,\r\n                increaseQuantity,\r\n                decreaseQuantity,\r\n                addToCart,\r\n                removeCartItem,\r\n                emptyCart,\r\n                calculateTotalPrice\r\n            }}>\r\n            {props.children}\r\n        </CartContext.Provider>\r\n    )\r\n}\r\n\r\nexport {CartContextProvider, CartContext}"],"mappings":"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"},"metadata":{},"sourceType":"module"}